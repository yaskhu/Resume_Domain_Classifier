import"./svelte/svelte_internal_flags_async.js";import*as t from"./svelte/svelte_internal_client.js";import{tick as B}from"./svelte/svelte_svelte.js";import{g as kt,e as wt,j as Ht,k as Tt,I as zt,l as Bt,m as St,B as Ct}from"./ScrollFade-YiJdnYV-.js";import"./svelte/svelte_internal_flags_legacy.js";import"./i18n-IeFj-zpk.js";import{S as Et}from"./StreamingBar-CdRfiLdf.js";import{G as It}from"./utils.svelte-NGrRZh7a.js";import{default as he}from"./Example-gF45j9DF.js";import"./MarkdownCode-DtcflbAZ.js";import"./index-VELz1aW8.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_store.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./prism-python-BAjd7o3F.js";var Ft=t.from_html('<div class="validation-error svelte-1hguek3"> </div>'),Pt=t.from_html(" <!>",1),Yt=t.from_html('<input data-testid="textbox" type="text"/>'),Dt=t.from_html('<input data-testid="password" type="password" autocomplete=""/>'),Gt=t.from_html('<input data-testid="textbox" type="email" autocomplete="email"/>'),Kt=t.from_html('<textarea data-testid="textbox"></textarea>'),Lt=t.from_html("<button><!></button>"),Mt=t.from_html("<button><!></button>"),jt=t.from_html('<label><!> <!> <div class="input-container svelte-1hguek3"><!> <!> <!></div></label>');function qt(W,s){t.push(s,!0);let h=t.prop(s,"value",15,""),a=t.prop(s,"value_is_output",15,!1),g=t.prop(s,"lines",3,1),w=t.prop(s,"placeholder",3,""),A=t.prop(s,"info",3,void 0),S=t.prop(s,"disabled",3,!1),E=t.prop(s,"show_label",3,!0),H=t.prop(s,"container",3,!0),I=t.prop(s,"max_lines",3,void 0),T=t.prop(s,"type",3,"text"),z=t.prop(s,"buttons",3,null),J=t.prop(s,"oncustombuttonclick",3,null),y=t.prop(s,"submit_btn",3,null),x=t.prop(s,"stop_btn",3,null),F=t.prop(s,"rtl",3,!1),b=t.prop(s,"autofocus",3,!1),P=t.prop(s,"text_align",3,void 0),V=t.prop(s,"autoscroll",3,!0),Y=t.prop(s,"max_length",3,void 0),o=t.prop(s,"html_attributes",3,null),k=t.prop(s,"validation_error",3,void 0),d,D=t.state(!1),N,O=t.state(!1),X=t.state(0),G=t.state(!1),m=t.state(1);const st=!y();t.user_effect(()=>{I()===void 0||I()===null?T()==="text"?t.set(m,Math.max(g(),20),!0):t.set(m,1):t.set(m,Math.max(I(),g()),!0)}),t.user_effect(()=>{h(),k(),d&&g()!==t.get(m)&&t.get(m)>1&&M({target:d})}),t.user_effect(()=>{h()===null&&h("")}),t.user_pre_effect(()=>{!t.get(G)&&d&&d.offsetHeight+d.scrollTop>d.scrollHeight-100&&t.set(O,!0)});const ot=()=>{t.get(O)&&V()&&!t.get(G)&&d.scrollTo(0,d.scrollHeight)};async function it(){await B(),s.onchange?.(h())}t.user_effect(()=>{b()&&d&&d.focus(),t.get(O)&&V()&&ot(),a(!1)}),t.user_effect(()=>{h(),it()});async function nt(){"clipboard"in navigator&&(await navigator.clipboard.writeText(h()),s.oncopy?.({value:h()}),ut())}function ut(){t.set(D,!0),N&&clearTimeout(N),N=setTimeout(()=>{t.set(D,!1)},1e3)}function K(l){const e=l.target,n=e.value,i=[e.selectionStart,e.selectionEnd];s.onselect?.({value:n.substring(...i),index:i})}async function L(l){l.key==="Enter"&&l.shiftKey&&g()>1?(l.preventDefault(),await B(),s.onsubmit?.()):l.key==="Enter"&&!l.shiftKey&&g()===1&&t.get(m)>=1&&(l.preventDefault(),await B(),s.onsubmit?.()),await B(),s.oninput?.(h())}function ct(l){const e=l.target,n=e.scrollTop;n<t.get(X)&&t.set(G,!0),t.set(X,n,!0);const i=e.scrollHeight-e.clientHeight;n>=i&&t.set(G,!1)}function _t(){s.onstop?.()}function dt(){s.onsubmit?.()}async function M(l){if(await B(),g()===t.get(m))return;const e=l.target,n=window.getComputedStyle(e),i=parseFloat(n.paddingTop),f=parseFloat(n.paddingBottom),p=parseFloat(n.lineHeight);let r=t.get(m)===void 0?!1:i+f+p*t.get(m),u=i+f+g()*p;e.style.height="1px";let v;r&&e.scrollHeight>r?v=r:e.scrollHeight<u?v=u:v=e.scrollHeight,e.style.height=`${v}px`,pt(e)}function pt(l){const e=l.scrollHeight,n=l.clientHeight,i=parseFloat(window.getComputedStyle(l).lineHeight);e>n+i?l.style.overflowY="scroll":l.style.overflowY="hidden"}function ft(l,e){if(!(g()===t.get(m)||g()===1&&t.get(m)===1))return l.addEventListener("input",M),e.trim()&&(l.style.overflowY="scroll",M({target:l})),{destroy:()=>l.removeEventListener("input",M)}}var j=jt();let Z;var $=t.child(j);{var ht=l=>{wt(l,{get buttons(){return z()},get oncustombuttonclick(){return J()},children:(e,n)=>{var i=t.comment(),f=t.first_child(i);{var p=r=>{{let u=t.derived(()=>t.get(D)?Ht:Tt),v=t.derived(()=>t.get(D)?"Copied":"Copy");zt(r,{get Icon(){return t.get(u)},onclick:nt,get label(){return t.get(v)}})}};t.if(f,r=>{z().some(u=>typeof u=="string"&&u==="copy")&&r(p)})}t.append(e,i)},$$slots:{default:!0}})};t.if($,l=>{E()&&z()&&z().length>0&&l(ht)})}var tt=t.sibling($,2);{let l=t.derived(()=>k()?!0:E());kt(tt,{get show_label(){return t.get(l)},get info(){return A()},children:(e,n)=>{t.next();var i=Pt(),f=t.first_child(i),p=t.sibling(f);{var r=u=>{var v=Ft(),Q=t.child(v,!0);t.reset(v),t.template_effect(()=>t.set_text(Q,k())),t.append(u,v)};t.if(p,u=>{k()&&u(r)})}t.template_effect(()=>t.set_text(f,`${s.label??""} `)),t.append(e,i)},$$slots:{default:!0}})}var et=t.sibling(tt,2),at=t.child(et);{var vt=l=>{var e=t.comment(),n=t.first_child(e);{var i=p=>{var r=Yt();t.remove_input_defaults(r);let u;t.autofocus(r,b()),t.bind_this(r,v=>d=v,()=>d),t.template_effect(()=>{u=t.set_class(r,1,"scroll-hide svelte-1hguek3",null,u,{"validation-error":k()}),t.set_attribute(r,"dir",F()?"rtl":"ltr"),t.set_attribute(r,"placeholder",w()),r.disabled=S(),t.set_attribute(r,"maxlength",Y()),t.set_style(r,P()?"text-align: "+P():""),t.set_attribute(r,"autocapitalize",o()?.autocapitalize),t.set_attribute(r,"autocorrect",o()?.autocorrect),t.set_attribute(r,"spellcheck",o()?.spellcheck),t.set_attribute(r,"autocomplete",o()?.autocomplete),t.set_attribute(r,"tabindex",o()?.tabindex),t.set_attribute(r,"enterkeyhint",o()?.enterkeyhint),t.set_attribute(r,"lang",o()?.lang),r.dir=r.dir}),t.event("keypress",r,L),t.event("blur",r,()=>s.onblur?.()),t.event("select",r,K),t.event("focus",r,()=>s.onfocus?.()),t.bind_value(r,h),t.append(p,r)},f=p=>{var r=t.comment(),u=t.first_child(r);{var v=C=>{var c=Dt();t.remove_input_defaults(c);let q;t.autofocus(c,b()),t.bind_this(c,R=>d=R,()=>d),t.template_effect(()=>{q=t.set_class(c,1,"scroll-hide svelte-1hguek3",null,q,{"validation-error":k()}),t.set_attribute(c,"placeholder",w()),c.disabled=S(),t.set_attribute(c,"maxlength",Y()),t.set_attribute(c,"autocapitalize",o()?.autocapitalize),t.set_attribute(c,"autocorrect",o()?.autocorrect),t.set_attribute(c,"spellcheck",o()?.spellcheck),t.set_attribute(c,"tabindex",o()?.tabindex),t.set_attribute(c,"enterkeyhint",o()?.enterkeyhint),t.set_attribute(c,"lang",o()?.lang)}),t.event("keypress",c,L),t.event("blur",c,()=>s.onblur?.()),t.event("select",c,K),t.event("focus",c,()=>s.onfocus?.()),t.bind_value(c,h),t.append(C,c)},Q=C=>{var c=t.comment(),q=t.first_child(c);{var R=U=>{var _=Gt();t.remove_input_defaults(_);let lt;t.autofocus(_,b()),t.bind_this(_,yt=>d=yt,()=>d),t.template_effect(()=>{lt=t.set_class(_,1,"scroll-hide svelte-1hguek3",null,lt,{"validation-error":k()}),t.set_attribute(_,"placeholder",w()),_.disabled=S(),t.set_attribute(_,"maxlength",Y()),t.set_attribute(_,"autocapitalize",o()?.autocapitalize),t.set_attribute(_,"autocorrect",o()?.autocorrect),t.set_attribute(_,"spellcheck",o()?.spellcheck),t.set_attribute(_,"tabindex",o()?.tabindex),t.set_attribute(_,"enterkeyhint",o()?.enterkeyhint),t.set_attribute(_,"lang",o()?.lang)}),t.event("keypress",_,L),t.event("blur",_,()=>s.onblur?.()),t.event("select",_,K),t.event("focus",_,()=>s.onfocus?.()),t.bind_value(_,h),t.append(U,_)};t.if(q,U=>{T()==="email"&&U(R)},!0)}t.append(C,c)};t.if(u,C=>{T()==="password"?C(v):C(Q,!1)},!0)}t.append(p,r)};t.if(n,p=>{T()==="text"?p(i):p(f,!1)})}t.append(l,e)},gt=l=>{var e=Kt();t.remove_textarea_child(e),t.autofocus(e,b());let n;t.action(e,(i,f)=>ft?.(i,f),h),t.effect(()=>t.bind_value(e,h)),t.bind_this(e,i=>d=i,()=>d),t.template_effect(()=>{t.set_attribute(e,"dir",F()?"rtl":"ltr"),t.set_attribute(e,"placeholder",w()),t.set_attribute(e,"rows",g()),e.disabled=S(),t.set_attribute(e,"maxlength",Y()),t.set_style(e,P()?"text-align: "+P():""),t.set_attribute(e,"autocapitalize",o()?.autocapitalize),t.set_attribute(e,"autocorrect",o()?.autocorrect),t.set_attribute(e,"spellcheck",o()?.spellcheck),t.set_attribute(e,"autocomplete",o()?.autocomplete),t.set_attribute(e,"tabindex",o()?.tabindex),t.set_attribute(e,"enterkeyhint",o()?.enterkeyhint),t.set_attribute(e,"lang",o()?.lang),n=t.set_class(e,1,"svelte-1hguek3",null,n,{"no-label":!E()&&(y()||x()),"validation-error":k()}),e.dir=e.dir}),t.event("keypress",e,L),t.event("blur",e,()=>s.onblur?.()),t.event("select",e,K),t.event("focus",e,()=>s.onfocus?.()),t.event("scroll",e,ct),t.append(l,e)};t.if(at,l=>{g()===1&&t.get(m)===1?l(vt):l(gt,!1)})}var rt=t.sibling(at,2);{var bt=l=>{var e=Lt();let n;e.__click=dt;var i=t.child(e);{var f=r=>{Bt(r)},p=r=>{var u=t.text();t.template_effect(()=>t.set_text(u,y())),t.append(r,u)};t.if(i,r=>{y()===!0?r(f):r(p,!1)})}t.reset(e),t.template_effect(()=>n=t.set_class(e,1,"submit-button svelte-1hguek3",null,n,{"padded-button":y()!==!0})),t.append(l,e)};t.if(rt,l=>{y()&&l(bt)})}var mt=t.sibling(rt,2);{var xt=l=>{var e=Mt();let n;e.__click=_t;var i=t.child(e);{var f=r=>{St(r,{fill:"none",stroke_width:2.5})},p=r=>{var u=t.text();t.template_effect(()=>t.set_text(u,x())),t.append(r,u)};t.if(i,r=>{x()===!0?r(f):r(p,!1)})}t.reset(e),t.template_effect(()=>n=t.set_class(e,1,"stop-button svelte-1hguek3",null,n,{"padded-button":x()!==!0})),t.append(l,e)};t.if(mt,l=>{x()&&l(xt)})}t.reset(et),t.reset(j),t.template_effect(()=>Z=t.set_class(j,1,"svelte-1hguek3",null,Z,{container:H(),show_textbox_border:st})),t.append(W,j),t.pop()}t.delegate(["click"]);var Wt=t.from_html("<!> <!>",1);function de(W,s){t.push(s,!0);let h=t.rest_props(s,["$$slots","$$events","$$legacy"]);const a=new It(h);let g=t.derived(()=>a.shared.label||"Textbox");a.props.value=a.props.value??"";let w=t.state(t.proxy(a.props.value));async function A(){t.get(w)!==a.props.value&&(t.set(w,a.props.value,!0),await B(),a.dispatch("change",t.snapshot(a.props.value)))}async function S(H){!a.shared||!a.props||(a.props.validation_error=null,a.props.value=H,await B(),a.dispatch("input"))}t.user_effect(()=>{A()});function E(H){!a.shared||!a.props||(a.props.validation_error=null,a.props.value=H)}Ct(W,{get visible(){return a.shared.visible},get elem_id(){return a.shared.elem_id},get elem_classes(){return a.shared.elem_classes},get scale(){return a.shared.scale},get min_width(){return a.shared.min_width},allow_overflow:!1,get padding(){return a.shared.container},get rtl(){return a.props.rtl},children:(H,I)=>{var T=Wt(),z=t.first_child(T);{var J=x=>{Et(x,t.spread_props({get autoscroll(){return a.shared.autoscroll},get i18n(){return a.i18n}},()=>a.shared.loading_status,{show_validation_error:!1,on_clear_status:()=>a.dispatch("clear_status",a.shared.loading_status)}))};t.if(z,x=>{a.shared.loading_status&&x(J)})}var y=t.sibling(z,2);{let x=t.derived(()=>a.shared?.loading_status?.validation_error||a.shared?.validation_error),F=t.derived(()=>!a.shared.interactive);qt(y,{get label(){return t.get(g)},get info(){return a.props.info},get show_label(){return a.shared.show_label},get lines(){return a.props.lines},get type(){return a.props.type},get rtl(){return a.props.rtl},get text_align(){return a.props.text_align},get max_lines(){return a.props.max_lines},get placeholder(){return a.props.placeholder},get submit_btn(){return a.props.submit_btn},get stop_btn(){return a.props.stop_btn},get buttons(){return a.props.buttons},get autofocus(){return a.props.autofocus},get container(){return a.shared.container},get autoscroll(){return a.shared.autoscroll},get max_length(){return a.props.max_length},get html_attributes(){return a.props.html_attributes},get validation_error(){return t.get(x)},onchange:E,oninput:S,onsubmit:()=>{a.shared.validation_error=null,a.dispatch("submit")},onblur:()=>a.dispatch("blur"),onselect:b=>a.dispatch("select",b),onfocus:()=>a.dispatch("focus"),onstop:()=>a.dispatch("stop"),oncopy:b=>a.dispatch("copy",b),oncustombuttonclick:b=>{a.dispatch("custom_button_click",{id:b})},get disabled(){return t.get(F)},get value(){return a.props.value},set value(b){a.props.value=b}})}t.append(H,T)},$$slots:{default:!0}}),t.pop()}export{he as BaseExample,qt as BaseTextbox,de as default};
