import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import"./i18n-IeFj-zpk.js";import{f as st,s as nt,G as dt}from"./utils.svelte-NGrRZh7a.js";import{tick as Y,onMount as ze,onDestroy as ct}from"./svelte/svelte_svelte.js";import{m as Ie,g as ut,u as _t,p as Se,A as De,G as ft,j as pt,H as gt,K as vt,r as mt,F as ht,B as bt}from"./ScrollFade-YiJdnYV-.js";import"./svelte/svelte_internal_flags_legacy.js";import{U as xt}from"./ModifyUpload-p1twvKjm.js";import{I as wt}from"./Image-Bdf4wQSw.js";import"./ImagePreview-C_QdZHnm.js";import{u as yt,p as kt,M as qt}from"./MinimalAudioPlayer-pesaxg4B.js";import{o as Me}from"./record.esm-EHLfhwCm.js";import{p as Ct}from"./index-VELz1aW8.js";import{S as At}from"./StreamingBar-CdRfiLdf.js";import{default as Sr}from"./Example-DRg4lUnu.js";import"./svelte/svelte_store.js";import"./MarkdownCode-DtcflbAZ.js";import"./prism-python-BAjd7o3F.js";import"./ShareButton-CzqLPjdz.js";import"./FullscreenButton-Bk-YQzX_.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./Video-DZ7QGqqT.js";async function ce(h,t,o){if(await Y(),t===o)return;const C=window.getComputedStyle(h),R=parseFloat(C.paddingTop),l=parseFloat(C.paddingBottom),b=parseFloat(C.lineHeight);let k=o===void 0?!1:R+l+b*o,u=R+l+t*b;h.style.height="1px";let m;k&&h.scrollHeight>k?m=k:h.scrollHeight<u?m=u:m=h.scrollHeight,h.style.height=`${m}px`}function Rt(h,t){if(t.lines===t.max_lines)return;h.style.overflowY="scroll";function o(C){ce(C.target,t.lines,t.max_lines)}if(h.addEventListener("input",o),!!t.text.trim())return ce(h,t.lines,t.max_lines),{destroy:()=>h.removeEventListener("input",o)}}e.from_html("<audio></audio>");var St=e.from_html("<option> </option>"),Dt=e.from_html('<select class="device-select-large svelte-doy9oc" aria-label="Select input device"></select>'),Mt=e.from_html('<div class="device-selection-wrapper svelte-doy9oc"><!> <button class="record-button svelte-doy9oc" aria-label="Start recording"></button></div>'),zt=e.from_html('<div class="waveform-wrapper svelte-doy9oc"></div> <div class="timestamp svelte-doy9oc"> </div> <button class="stop-button svelte-doy9oc" aria-label="Stop recording"><!></button>',1),It=e.from_html('<div class="minimal-audio-recorder svelte-doy9oc" data-testid="minimal-audio-recorder"><!></div>');function Tt(h,t){e.push(t,!0);let o=e.prop(t,"waveform_settings",19,()=>({})),C=e.prop(t,"recording",15),R=e.prop(t,"max_file_size",3,null),l=e.prop(t,"upload_promise",15),b,k,u,m=0,T,B=!1,j=!1,S=[],H="",W=!1;const J=()=>{clearInterval(T),T=setInterval(()=>{m++},1e3)},q=async()=>{if(!b)return;k&&k.destroy();const f=getComputedStyle(document.documentElement).getPropertyValue("--color-accent")||"#ff7c00";k=yt.create({container:b,height:32,waveColor:"rgba(128, 128, 128, 0.5)",progressColor:f,cursorColor:"transparent",barWidth:2,barGap:2,barRadius:2,interact:!1,hideScrollbar:!0,...o()}),u=k.registerPlugin(Me.create({scrollingWaveform:!0,scrollingWaveformWindow:7,renderRecordedAudio:!1})),u.on("record-start",()=>{J(),B=!0,j=!0}),u.on("record-end",async g=>{clearInterval(T),B=!1,l((async()=>{try{const s=await g.arrayBuffer(),E=await new AudioContext({sampleRate:o().sampleRate||44100}).decodeAudioData(s);if(E){const n=await kt(E),P=new File([n],"audio.wav",{type:"audio/wav"}),w=await Ct([P],!1),x=(await t.upload(w,t.root,void 0,R()||void 0))?.[0];x&&t.onchange?.(x)}}catch(s){console.error("Error processing audio:",s)}finally{t.onstoprecording?.(),l(null)}})()),await l()})};ze(async()=>{try{S=(await Me.getAvailableAudioDevices()).filter(g=>g.deviceId),S.length>0&&(H=S[0].deviceId),S.length>1?W=!0:await q()}catch{await q()}}),ct(()=>{clearInterval(T),u&&u.stopMic(),k&&k.destroy()}),e.user_effect(()=>{C()&&!B&&u&&j===!1&&S.length<=1?u.startMic({deviceId:H}).then(()=>{u?.startRecording()}):!C()&&B&&u&&(u.stopRecording(),m=0)});async function N(){if(W=!1,j=!0,await Y(),await q(),!!u)try{await u.startMic({deviceId:H}),u.startRecording()}catch(f){console.error("Error starting recording:",f),W=S.length>1,j=!1,C(!1)}}var L=It(),D=e.child(L);{var M=f=>{var g=Mt(),s=e.child(g);{var z=n=>{var P=Dt();e.each(P,21,()=>S,e.index,(w,X)=>{var x=St(),F=e.child(x,!0);e.reset(x);var O={};e.template_effect(()=>{e.set_text(F,e.get(X).label),O!==(O=e.get(X).deviceId)&&(x.value=(x.__value=e.get(X).deviceId)??"")}),e.append(w,x)}),e.reset(P),e.bind_select_value(P,()=>H,w=>H=w),e.append(n,P)};e.if(s,n=>{S.length>1&&n(z)})}var E=e.sibling(s,2);E.__click=N,e.reset(g),e.append(f,g)},U=f=>{var g=zt(),s=e.first_child(g);e.bind_this(s,w=>b=w,()=>b);var z=e.sibling(s,2),E=e.child(z,!0);e.reset(z);var n=e.sibling(z,2);n.__click=()=>{C(!1)};var P=e.child(n);Ie(P,{}),e.reset(n),e.template_effect(w=>e.set_text(E,w),[()=>st(m)]),e.append(f,g)};e.if(D,f=>{W?f(M):f(U,!1)})}e.reset(L),e.template_effect(()=>e.set_attribute(L,"aria-label",t.label||"Audio Recorder")),e.append(h,L),e.pop()}e.delegate(["click"]);var Et=e.from_html('<div class="recording-content svelte-1qn0337"><!></div>'),Pt=e.from_html('<div class="recording-content svelte-1qn0337"><!> <div class="action-buttons svelte-1qn0337"><button class="confirm-button svelte-1qn0337" aria-label="Attach audio"><!></button> <button class="cancel-button svelte-1qn0337" aria-label="Clear audio"><!></button></div></div>'),Ft=e.from_html("<div><!></div>"),Ht=e.from_html('<button data-testid="upload-button" class="upload-button thumbnail-add svelte-1qn0337" aria-label="Upload a file"><!></button>'),Bt=e.from_html('<span class="thumbnail-wrapper svelte-1qn0337" role="listitem" aria-label="File thumbnail"><div class="thumbnail-item thumbnail-small svelte-1qn0337"><!> <button class="delete-button svelte-1qn0337" aria-label="Remove file"><!></button></div></span>'),Wt=e.from_html('<div class="loader svelte-1qn0337" role="status" aria-label="Uploading"></div>'),Ut=e.from_html('<div class="thumbnails svelte-1qn0337" aria-label="Uploaded files" data-testid="container_el"><!> <!> <!></div>'),Gt=e.from_html('<button data-testid="upload-button" class="upload-button icon-button svelte-1qn0337" aria-label="Upload a file"><!></button>'),jt=e.from_html('<button data-testid="microphone-button" aria-label="Record audio"><!></button>'),Lt=e.from_html('<button data-testid="submit-button" aria-label="Submit"><!></button>'),Vt=e.from_html('<button aria-label="Stop"><!></button>'),Kt=e.from_html('<div role="group" aria-label="Multimedia input field"><!> <div class="input-container svelte-1qn0337"><!> <!> <div><!> <div class="input-row svelte-1qn0337"><!> <div class="textarea-wrapper svelte-1qn0337"><textarea data-testid="textbox"></textarea> <!></div> <!> <!> <!></div></div></div></div>');function Yt(h,t){e.push(t,!0);let o=e.prop(t,"value",15),C=e.prop(t,"value_is_output",3,!1),R=e.prop(t,"lines",3,1),l=e.prop(t,"placeholder",3,""),b=e.prop(t,"disabled",3,!1),k=e.prop(t,"info",3,void 0),u=e.prop(t,"show_label",3,!0),m=e.prop(t,"submit_btn",3,null),T=e.prop(t,"stop_btn",3,null),B=e.prop(t,"rtl",3,!1),j=e.prop(t,"autofocus",3,!1),S=e.prop(t,"text_align",3,void 0),H=e.prop(t,"autoscroll",3,!0),W=e.prop(t,"file_types_string",3,null),J=e.prop(t,"max_file_size",3,null),q=e.prop(t,"file_count",3,"multiple"),N=e.prop(t,"max_plain_text_length",3,1e3);e.prop(t,"waveform_options",19,()=>({show_recording_waveform:!0}));let L=e.prop(t,"sources_string",3,"upload"),D=e.prop(t,"active_source",15),M=e.prop(t,"html_attributes",3,null),U=e.prop(t,"upload_promise",15),f=e.prop(t,"dragging",15),g,s,z=e.state(!1),E=e.state(0),n=e.state(!1),P=e.state(!1),w=e.state(!1),X=e.state(e.proxy(o()?.text??"")),x=e.state(!1),F=e.state(null),O,Q=e.derived(()=>L().split(",").map(r=>r.trim()).filter(r=>r==="upload"||r==="microphone")),te=e.derived(()=>W()?W().split(",").map(r=>r.trim()):null),ae=e.derived(()=>e.get(Q)&&e.get(Q).includes("upload")&&!(q()==="single"&&o()?.files?.length>0));function ue(){e.set(P,nt(s),!0)}e.user_effect(()=>{s&&o()?.text!==void 0&&Y().then(ue)}),e.user_effect(()=>{t.ondrag?.(f())}),e.user_effect(()=>{o()&&e.get(X)!==o().text&&(t.onchange?.(o()),e.set(X,o().text,!0))}),e.user_effect(()=>{s&&R()!==t.max_lines&&ce(s,R(),t.max_lines)}),e.user_pre_effect(()=>{s&&s.offsetHeight+s.scrollTop>s.scrollHeight-100&&e.set(z,!0)});const Te=()=>{e.get(z)&&H()&&!e.get(n)&&s.scrollTo(0,s.scrollHeight)};async function _e(){t.onchange?.(o()),C()||t.oninput?.()}e.user_effect(()=>{o(),j()&&s&&s.focus()}),e.user_effect(()=>{e.get(z)&&H()&&Te()});function Ee(r){const a=r.target,i=a.value,c=[a.selectionStart,a.selectionEnd];t.onselect?.({value:i.substring(...c),index:c})}async function Pe(r){r.key==="Enter"&&r.shiftKey&&R()>1?(r.preventDefault(),await Y(),t.onsubmit?.()):r.key==="Enter"&&!r.shiftKey&&R()===1&&t.max_lines>=1&&(r.preventDefault(),le(),D(null),await Y(),t.onsubmit?.())}function Fe(r){const a=r.target,i=a.scrollTop;i<e.get(E)&&e.set(n,!0),e.set(E,i,!0);const c=a.scrollHeight-a.clientHeight;i>=c&&e.set(n,!1),ue()}async function He(r){if(_e(),Array.isArray(r)){for(let a of r)o().files.push(a);o(o())}else o().files.push(r),o(o());await Y(),t.onchange?.(o()),t.onupload?.(r)}function Be(r,a){_e(),r.stopPropagation(),o().files.splice(a,1),o(o())}function fe(){g.open_upload()}function We(){t.onstop?.()}function le(){e.get(F)&&(o().files.push(e.get(F)),o(o()),e.set(F,null),t.onchange?.(o()))}function Ue(){le(),D(null),t.onsubmit?.()}async function Ge(r){if(!r.clipboardData)return;const a=r.clipboardData.items,i=r.clipboardData.getData("text");if(i&&i.length>N()){r.preventDefault();const c=new window.File([i],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});g&&g.load_files([c]);return}for(let c in a){const y=a[c];if(y.kind==="file"&&y.type.includes("image")){const A=y.getAsFile();A&&g.load_files([A])}}}function je(r){r.preventDefault(),f(!0)}function Le(r){r.preventDefault();const a=O.getBoundingClientRect(),{clientX:i,clientY:c}=r;(i<=a.left||i>=a.right||c<=a.top||c>=a.bottom)&&f(!1)}function Ve(r){if(r.preventDefault(),f(!1),r.dataTransfer&&r.dataTransfer.files){const a=Array.from(r.dataTransfer.files);if(e.get(te)){const i=a.filter(y=>e.get(te).some(A=>A.startsWith(".")?y.name.toLowerCase().endsWith(A.toLowerCase()):y.type.match(new RegExp(A.replace("*",".*"))))),c=a.length-i.length;c>0&&t.onerror?.(`${c} file(s) were rejected. Accepted formats: ${e.get(te).join(", ")}`),i.length>0&&g.load_files(i)}else g.load_files(a)}}var G=Kt();let pe;var ge=e.child(G);ut(ge,{get show_label(){return u()},get info(){return k()},get rtl(){return B()},children:(r,a)=>{e.next();var i=e.text();e.template_effect(()=>e.set_text(i,t.label)),e.append(r,i)},$$slots:{default:!0}});var ve=e.sibling(ge,2),me=e.child(ve);{var Ke=r=>{var a=Ft();let i;var c=e.child(a);{var y=p=>{var _=Et(),v=e.child(_);{let V=e.derived(()=>t.label||"Audio");Tt(v,{get label(){return e.get(V)},get waveform_settings(){return t.waveform_settings},get recording(){return e.get(x)},get upload(){return t.upload},get root(){return t.root},get max_file_size(){return J()},onchange:I=>{e.set(F,I,!0)},onstoprecording:()=>{e.set(x,!1),t.onstop_recording?.()},onclear:()=>{D(null),e.set(x,!1),e.set(F,null),t.onclear?.()},get upload_promise(){return U()},set upload_promise(I){U(I)}})}e.reset(_),e.append(p,_)},A=p=>{var _=Pt(),v=e.child(_);{let ne=e.derived(()=>t.label||"Audio");qt(v,{get value(){return e.get(F)},get label(){return e.get(ne)},loop:!1})}var V=e.sibling(v,2),I=e.child(V);I.__click=()=>{le(),D(null),e.set(x,!1)};var re=e.child(I);pt(re),e.reset(I);var Z=e.sibling(I,2);Z.__click=()=>{D(null),e.set(x,!1),e.set(F,null)};var se=e.child(Z);Se(se),e.reset(Z),e.reset(V),e.reset(_),e.append(p,_)};e.if(c,p=>{e.get(F)?p(A,!1):p(y)})}e.reset(a),e.template_effect(()=>i=e.set_class(a,1,"recording-overlay svelte-1qn0337",null,i,{"has-audio":e.get(F)!==null})),e.append(r,a)};e.if(me,r=>{e.get(Q)&&e.get(Q).includes("microphone")&&D()==="microphone"&&r(Ke)})}var he=e.sibling(me,2);{var Ye=r=>{e.bind_this(xt(r,{onload:He,get file_count(){return q()},get filetype(){return e.get(te)},get root(){return t.root},get max_file_size(){return J()},show_progress:!1,disable_click:!0,get onerror(){return t.onerror},hidden:!0,get upload(){return t.upload},get stream_handler(){return t.stream_handler},get upload_promise(){return U()},set upload_promise(a){U(a)},get dragging(){return f()},set dragging(a){f(a)},get uploading(){return e.get(w)},set uploading(a){e.set(w,a,!0)}}),a=>g=a,()=>g)};e.if(he,r=>{e.get(ae)&&r(Ye)})}var oe=e.sibling(he,2);let be;var xe=e.child(oe);{var Xe=r=>{var a=Ut(),i=e.child(a);{var c=_=>{var v=Ht();v.__click=fe;var V=e.child(v);De(V),e.reset(v),e.template_effect(()=>v.disabled=b()),e.append(_,v)};e.if(i,_=>{e.get(ae)&&_(c)})}var y=e.sibling(i,2);e.each(y,17,()=>o()?.files??[],e.index,(_,v,V)=>{var I=Bt(),re=e.child(I),Z=e.child(re);{var se=K=>{wt(K,{get src(){return e.get(v).url},restProps:{title:null,alt:"",loading:"lazy",class:"thumbnail-image"}})},ne=K=>{var Ae=e.comment(),tt=e.first_child(Ae);{var rt=$=>{vt($)},at=$=>{var Re=e.comment(),lt=e.first_child(Re);{var ot=ee=>{mt(ee)},it=ee=>{ht(ee)};e.if(lt,ee=>{e.get(v).mime_type&&e.get(v).mime_type.includes("video")?ee(ot):ee(it,!1)},!0)}e.append($,Re)};e.if(tt,$=>{e.get(v).mime_type&&e.get(v).mime_type.includes("audio")?$(rt):$(at,!1)},!0)}e.append(K,Ae)};e.if(Z,K=>{e.get(v).mime_type&&e.get(v).mime_type.includes("image")?K(se):K(ne,!1)})}var de=e.sibling(Z,2);de.__click=K=>Be(K,V);var et=e.child(de);Se(et),e.reset(de),e.reset(re),e.reset(I),e.append(_,I)});var A=e.sibling(y,2);{var p=_=>{var v=Wt();e.append(_,v)};e.if(A,_=>{e.get(w)&&_(p)})}e.reset(a),e.append(r,a)};e.if(xe,r=>{((o()?.files?.length??0)>0||e.get(w))&&r(Xe)})}var we=e.sibling(xe,2),ye=e.child(we);{var Je=r=>{var a=Gt();a.__click=fe;var i=e.child(a);De(i),e.reset(a),e.template_effect(()=>a.disabled=b()),e.append(r,a)};e.if(ye,r=>{e.get(ae)&&(o()?.files?.length??0)===0&&!e.get(w)&&r(Je)})}var ie=e.sibling(ye,2),d=e.child(ie);e.remove_textarea_child(d);let ke;e.action(d,(r,a)=>Rt?.(r,a),()=>({text:o().text,lines:R(),max_lines:t.max_lines})),e.effect(()=>e.bind_value(d,()=>o().text,r=>o(o().text=r,!0))),e.bind_this(d,r=>s=r,()=>s);var Ne=e.sibling(d,2);_t(Ne,{get visible(){return e.get(P)},position:"absolute"}),e.reset(ie);var qe=e.sibling(ie,2);{var Oe=r=>{var a=jt();let i;a.__click=async()=>{D()!=="microphone"?(D("microphone"),await Y(),e.set(x,!0)):(D(null),e.set(x,!1))};var c=e.child(a);ft(c),e.reset(a),e.template_effect(()=>{i=e.set_class(a,1,"microphone-button svelte-1qn0337",null,i,{recording:e.get(x)}),a.disabled=b()}),e.append(r,a)};e.if(qe,r=>{e.get(Q)&&e.get(Q).includes("microphone")&&r(Oe)})}var Ce=e.sibling(qe,2);{var Qe=r=>{var a=Lt();let i;a.__click=Ue;var c=e.child(a);{var y=p=>{gt(p)},A=p=>{var _=e.text();e.template_effect(()=>e.set_text(_,m())),e.append(p,_)};e.if(c,p=>{m()===!0?p(y):p(A,!1)})}e.reset(a),e.template_effect(()=>{i=e.set_class(a,1,"submit-button svelte-1qn0337",null,i,{"padded-button":m()!==!0}),a.disabled=b()}),e.append(r,a)};e.if(Ce,r=>{m()&&r(Qe)})}var Ze=e.sibling(Ce,2);{var $e=r=>{var a=Vt();let i;a.__click=We;var c=e.child(a);{var y=p=>{Ie(p,{fill:"none",stroke_width:2.5})},A=p=>{var _=e.text();e.template_effect(()=>e.set_text(_,T())),e.append(p,_)};e.if(c,p=>{T()===!0?p(y):p(A,!1)})}e.reset(a),e.template_effect(()=>i=e.set_class(a,1,"stop-button svelte-1qn0337",null,i,{"padded-button":T()!==!0})),e.append(r,a)};e.if(Ze,r=>{T()&&r($e)})}e.reset(we),e.reset(oe),e.reset(ve),e.reset(G),e.bind_this(G,r=>O=r,()=>O),e.template_effect(()=>{pe=e.set_class(G,1,"full-container svelte-1qn0337",null,pe,{dragging:f()}),be=e.set_class(oe,1,"input-wrapper svelte-1qn0337",null,be,{"has-files":(o()?.files?.length??0)>0||e.get(w)}),e.set_attribute(d,"dir",B()?"rtl":"ltr"),e.set_attribute(d,"placeholder",l()),e.set_attribute(d,"rows",R()),d.disabled=b(),e.set_style(d,S()?"text-align: "+S():""),e.set_attribute(d,"autocapitalize",M()?.autocapitalize),e.set_attribute(d,"autocorrect",M()?.autocorrect),e.set_attribute(d,"spellcheck",M()?.spellcheck),e.set_attribute(d,"autocomplete",M()?.autocomplete),e.set_attribute(d,"tabindex",M()?.tabindex),e.set_attribute(d,"enterkeyhint",M()?.enterkeyhint),e.set_attribute(d,"lang",M()?.lang),ke=e.set_class(d,1,"svelte-1qn0337",null,ke,{"no-label":!u()}),d.dir=d.dir}),e.event("dragenter",G,je),e.event("dragleave",G,Le),e.event("dragover",G,r=>r.preventDefault()),e.event("drop",G,Ve),e.event("keypress",d,Pe),e.event("blur",d,()=>t.onblur?.()),e.event("select",d,Ee),e.event("focus",d,()=>t.onfocus?.()),e.event("scroll",d,Fe),e.event("paste",d,Ge),e.append(h,G),e.pop()}e.delegate(["click"]);var Xt=e.from_html("<!> <!>",1);function Cr(h,t){e.push(t,!0);let o=e.state(null);class C extends dt{async get_data(){return e.get(o)&&(await e.get(o),await Y()),await super.get_data()}}let R=e.rest_props(t,["$$slots","$$events","$$legacy"]);const l=new C(R);l.props.value=l.props.value??{text:"",files:[]};let b=e.state(!1),k=e.state(null),u="darkorange";const m={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20,waveColor:"",progressColor:"",mediaControls:!1,sampleRate:44100};ze(()=>{u=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),B(),m.waveColor=l.props?.waveform_options?.waveform_color||"#9ca3af",m.progressColor=l.props?.waveform_options?.waveform_progress_color||u,m.mediaControls=l.props?.waveform_options?.show_controls,m.sampleRate=l.props?.waveform_options?.sample_rate||44100});const T={color:l.props?.waveform_options?.trim_region_color};function B(){document.documentElement.style.setProperty("--trim-region-color",T.color||u)}const j=(...q)=>l.shared.client.upload(...q),S=q=>l.i18n(q),H=(...q)=>l.shared.client.stream(...q);let W=e.derived(()=>l.props.sources.join(",")),J=e.derived(()=>(l.props.file_types||[]).join(",")||null);{let q=e.derived(()=>[...l.shared.elem_classes||[],"multimodal-textbox"]),N=e.derived(()=>e.get(b)?"focus":"base");bt(h,{get visible(){return l.shared.visible},get elem_id(){return l.shared.elem_id},get elem_classes(){return e.get(q)},get scale(){return l.shared.scale},get min_width(){return l.shared.min_width},allow_overflow:!1,padding:!1,get border_mode(){return e.get(N)},get rtl(){return l.props.rtl},children:(L,D)=>{var M=Xt(),U=e.first_child(M);{var f=s=>{At(s,e.spread_props({get autoscroll(){return l.shared.autoscroll},get i18n(){return l.i18n}},()=>l.shared.loading_status,{on_clear_status:()=>l.dispatch("clear_status",l.shared.loading_status)}))};e.if(U,s=>{l.shared.loading_status&&s(f)})}var g=e.sibling(U,2);{let s=e.derived(()=>l.shared.label||"MultimodalTextbox"),z=e.derived(()=>l.props.max_lines?l.props.max_lines:l.props.lines+1),E=e.derived(()=>!l.shared.interactive);Yt(g,{value_is_output:!0,get file_types_string(){return e.get(J)},get root(){return l.shared.root},get label(){return e.get(s)},get info(){return l.props.info},get show_label(){return l.shared.show_label},get lines(){return l.props.lines},get rtl(){return l.props.rtl},get text_align(){return l.props.text_align},get waveform_settings(){return m},i18n:S,get max_lines(){return e.get(z)},get placeholder(){return l.props.placeholder},get submit_btn(){return l.props.submit_btn},get stop_btn(){return l.props.stop_btn},get autofocus(){return l.props.autofocus},get autoscroll(){return l.shared.autoscroll},get file_count(){return l.props.file_count},get sources_string(){return e.get(W)},get max_file_size(){return l.shared.max_file_size},onchange:n=>{l.props.value=n,l.dispatch("change",l.props.value)},oninput:()=>l.dispatch("input"),onsubmit:()=>l.dispatch("submit"),onstop:()=>l.dispatch("stop"),onblur:()=>l.dispatch("blur"),onselect:n=>l.dispatch("select",n),onfocus:()=>l.dispatch("focus"),onerror:n=>{l.dispatch("error",n)},onstop_recording:()=>l.dispatch("stop_recording"),onupload:n=>l.dispatch("upload",n),onclear:()=>l.dispatch("clear"),get disabled(){return e.get(E)},upload:j,stream_handler:H,get max_plain_text_length(){return l.props.max_plain_text_length},get html_attributes(){return l.props.html_attributes},get upload_promise(){return e.get(o)},set upload_promise(n){e.set(o,n,!0)},get value(){return l.props.value},set value(n){l.props.value=n},get dragging(){return e.get(b)},set dragging(n){e.set(b,n,!0)},get active_source(){return e.get(k)},set active_source(n){e.set(k,n,!0)}})}e.append(L,M)},$$slots:{default:!0}})}e.pop()}export{Sr as BaseExample,Yt as BaseMultimodalTextbox,Cr as default};
