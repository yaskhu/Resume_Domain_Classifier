const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Canvas3D-pbJeoHxs.js","./index-VELz1aW8.js","./index-D0tiHk1o.css"])))=>i.map(i=>d[i]);
import"./svelte/svelte_internal_flags_async.js";import*as e from"./svelte/svelte_internal_client.js";import{tick as F}from"./svelte/svelte_svelte.js";import"./i18n-IeFj-zpk.js";import{G as K}from"./utils.svelte-NGrRZh7a.js";import N from"./Model3D-Du5JP0av.js";import{_ as R}from"./index-VELz1aW8.js";import{U as Q,M as X}from"./ModifyUpload-p1twvKjm.js";import{d as H,F as O,B as V,E as Y,U as Z,e as $}from"./ScrollFade-YiJdnYV-.js";import"./svelte/svelte_internal_flags_legacy.js";import{S as q}from"./StreamingBar-CdRfiLdf.js";import{default as Le}from"./Example-k72ew9Yb.js";import"./svelte/svelte_store.js";import"./index-tFQomdd2.js";import"./svelte/svelte_animate.js";import"./svelte/svelte_attachments.js";import"./svelte/svelte_easing.js";import"./svelte/svelte_internal_flags_tracing.js";import"./svelte/svelte_internal_server.js";import"./svelte/svelte_legacy.js";import"./svelte/svelte_motion.js";import"./svelte/svelte_reactivity.js";import"./svelte/svelte_reactivity_window.js";import"./svelte/svelte_server.js";import"./svelte/svelte_transition.js";import"./svelte/svelte_events.js";import"./MarkdownCode-DtcflbAZ.js";import"./prism-python-BAjd7o3F.js";var ee=e.from_html('<div class="input-model svelte-18wa0f8"><!> <!></div>'),te=e.from_html("<!> <!>",1);function re(G,a){e.push(a,!0);let s=e.prop(a,"value",15),S=e.prop(a,"display_mode",3,"solid"),t=e.prop(a,"clear_color",19,()=>[0,0,0,0]),B=e.prop(a,"label",3,""),y=e.prop(a,"zoom_speed",3,1),c=e.prop(a,"pan_speed",3,1),E=e.prop(a,"max_file_size",3,null),u=e.prop(a,"uploading",15),U=e.prop(a,"upload_promise",15),L=e.prop(a,"camera_position",19,()=>[null,null,null]),h=e.state(!1),C=e.state(void 0),I=e.state(void 0),z=e.state(void 0),f=e.state(!1);async function T(){return(await R(()=>import("./Canvas3D-pbJeoHxs.js"),__vite__mapDeps([0,1,2]),import.meta.url)).default}async function W(){return(await R(()=>import("./Canvas3DGS-DC7MCH2z.js"),[],import.meta.url)).default}e.user_effect(()=>{s()&&(e.set(h,s().path.endsWith(".splat")||s().path.endsWith(".ply"),!0),e.get(h)?W().then(r=>{e.set(C,r,!0)}):T().then(r=>{e.set(I,r,!0)}))}),e.user_effect(()=>{a.ondrag?.(e.get(f))});async function j(r){s(r),await F(),a.onchange?.(s()),a.onload?.(s())}async function o(){s(null),await F(),a.onclear?.(),a.onchange?.(null)}async function v(){e.get(z)?.reset_camera_position()}function x(r){a.onerror?.(r)}var b=te(),k=e.first_child(b);{let r=e.derived(()=>B()||"3D Model");H(k,{get show_label(){return a.show_label},get Icon(){return O},get label(){return e.get(r)}})}var p=e.sibling(k,2);{var _=r=>{{let i=e.derived(()=>a.i18n("model3d.drop_to_upload"));Q(r,{get upload(){return a.upload},get stream_handler(){return a.stream_handler},onload:j,get root(){return a.root},get max_file_size(){return E()},filetype:[".stl",".obj",".gltf",".glb","model/obj",".splat",".ply"],onerror:x,get aria_label(){return e.get(i)},get upload_promise(){return U()},set upload_promise(l){U(l)},get dragging(){return e.get(f)},set dragging(l){e.set(f,l,!0)},get uploading(){return u()},set uploading(l){u(l)},children:(l,M)=>{var g=e.comment(),P=e.first_child(g);e.slot(P,a,"default",{},null),e.append(l,g)},$$slots:{default:!0}})}},D=r=>{var i=ee(),l=e.child(i);{let n=e.derived(()=>!e.get(h));X(l,{get undoable(){return e.get(n)},onclear:o,get i18n(){return a.i18n},onundo:v})}var M=e.sibling(l,2);{var g=n=>{var m=e.comment(),d=e.first_child(m);e.component(d,()=>e.get(C),(w,A)=>{A(w,{get value(){return s()},get zoom_speed(){return y()},get pan_speed(){return c()}})}),e.append(n,m)},P=n=>{var m=e.comment(),d=e.first_child(m);e.component(d,()=>e.get(I),(w,A)=>{e.bind_this(A(w,{get value(){return s()},get display_mode(){return S()},get clear_color(){return t()},get camera_position(){return L()},get zoom_speed(){return y()},get pan_speed(){return c()}}),J=>e.set(z,J,!0),()=>e.get(z))}),e.append(n,m)};e.if(M,n=>{e.get(h)?n(g):n(P,!1)})}e.reset(i),e.append(r,i)};e.if(p,r=>{s()==null?r(_):r(D,!1)})}e.append(G,b),e.pop()}var ae=e.from_html("<!> <!> <!>",1),oe=e.from_html("<!> <!>",1),le=e.from_html("<!> <!>",1);function ke(G,a){e.push(a,!0);class s extends K{async get_data(){return e.get(u)&&(await e.get(u),await F()),await super.get_data()}}const S=e.rest_props(a,["$$slots","$$events","$$legacy"]),t=new s(S);let B=e.state(e.proxy(t.props.value)),y=e.state(!1),c=e.state(!1),E=e.state(!1),u=e.state(void 0);const U=typeof window<"u";e.user_effect(()=>{e.get(B)!==t.props.value&&(e.set(B,t.props.value,!0),t.dispatch("change"))});function L(o){t.props.value=o,t.dispatch("change",o),e.set(E,!0)}function h(o){e.set(c,o,!0)}function C(){t.props.value=null,t.dispatch("clear")}function I(o){t.props.value=o,t.dispatch("upload")}function z(o){t.shared.loading_status&&(t.shared.loading_status.status="error"),t.dispatch("error",o)}var f=e.comment(),T=e.first_child(f);{var W=o=>{{let v=e.derived(()=>t.props.value===null?"dashed":"solid"),x=e.derived(()=>e.get(c)?"focus":"base");V(o,{get visible(){return t.shared.visible},get variant(){return e.get(v)},get border_mode(){return e.get(x)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(b,k)=>{var p=oe(),_=e.first_child(p);q(_,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var D=e.sibling(_,2);{var r=l=>{N(l,{get value(){return t.props.value},get i18n(){return t.i18n},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get label(){return t.shared.label},get show_label(){return t.shared.show_label},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},get has_change_history(){return e.get(E)}})},i=l=>{var M=ae(),g=e.first_child(M);{var P=d=>{$(d,{get buttons(){return t.props.buttons},on_custom_button_click:w=>{t.dispatch("custom_button_click",{id:w})}})};e.if(g,d=>{t.shared.show_label&&t.props.buttons&&t.props.buttons.length>0&&d(P)})}var n=e.sibling(g,2);{let d=e.derived(()=>t.shared.label||"3D Model");H(n,{get show_label(){return t.shared.show_label},get Icon(){return O},get label(){return e.get(d)}})}var m=e.sibling(n,2);Y(m,{unpadded_box:!0,size:"large",children:(d,w)=>{O(d)},$$slots:{default:!0}}),e.append(l,M)};e.if(D,l=>{t.props.value&&U?l(r):l(i,!1)})}e.append(b,p)},$$slots:{default:!0}})}},j=o=>{{let v=e.derived(()=>t.props.value===null?"dashed":"solid"),x=e.derived(()=>e.get(c)?"focus":"base");V(o,{get visible(){return t.shared.visible},get variant(){return e.get(v)},get border_mode(){return e.get(x)},padding:!1,get elem_id(){return t.shared.elem_id},get elem_classes(){return t.shared.elem_classes},get container(){return t.shared.container},get scale(){return t.shared.scale},get min_width(){return t.shared.min_width},get height(){return t.props.height},children:(b,k)=>{var p=le(),_=e.first_child(p);q(_,e.spread_props({get autoscroll(){return t.shared.autoscroll},get i18n(){return t.i18n}},()=>t.shared.loading_status,{on_clear_status:()=>t.dispatch("clear_status",t.shared.loading_status)}));var D=e.sibling(_,2);re(D,{get label(){return t.shared.label},get show_label(){return t.shared.show_label},get root(){return t.shared.root},get display_mode(){return t.props.display_mode},get clear_color(){return t.props.clear_color},get camera_position(){return t.props.camera_position},get zoom_speed(){return t.props.zoom_speed},onchange:L,ondrag:h,onclear:C,onload:I,onerror:z,get i18n(){return t.i18n},get max_file_size(){return t.shared.max_file_size},upload:(...r)=>t.shared.client.upload(...r),stream_handler:(...r)=>t.shared.client.stream(...r),get upload_promise(){return e.get(u)},set upload_promise(r){e.set(u,r,!0)},get value(){return t.props.value},set value(r){t.props.value=r},get uploading(){return e.get(y)},set uploading(r){e.set(y,r,!0)},children:(r,i)=>{Z(r,{get i18n(){return t.i18n},type:"file"})},$$slots:{default:!0}}),e.append(b,p)},$$slots:{default:!0}})}};e.if(T,o=>{t.shared.interactive?o(j,!1):o(W)})}e.append(G,f),e.pop()}export{Le as BaseExample,N as BaseModel3D,re as BaseModel3DUpload,ke as default};
